<div class="container">
<div class="col-md-12">


<div class="packageform">
  <h2 class="text-center py-5 packageform__title">Formulaire d'ajout de forfait</h2>
  
  <form class="d-flex flex-column justify-content-between align-items-center" #packageFormAdd='ngForm'>
    <div class="d-flex justify-content-end py-1 ">

      <div class="form-group px-2">
        <mat-form-field class="example-form-field">
          <mat-label>Code du forfait:</mat-label>
          <input matInput type="text" required [(ngModel)]="newPackage.code" #packageCode="ngModel" id="packageCode"
            name="packageCode" minlength="2" maxlength="50">
        </mat-form-field>
        <span class="formError" *ngIf="!packageCode.valid && packageCode.touched">Veillez entre un code de forfait valide
          entre 2 et 50 caractères.</span>
      </div>

      <div class="form-group px-2">
        <mat-form-field class="example-form-field">
          <mat-label>Nom du forfait:</mat-label>
          <input matInput type="text" required [(ngModel)]="newPackage.name" #packageName="ngModel" id="packageName"
            name="packageName" minlength="2" maxlength="50">

        </mat-form-field>
        <span class="formError" *ngIf="!packageName.valid && packageName.touched">Veillez entre un nom de forfait valide
          entre 2 et 50 caractères.</span>
      </div>
    </div>

      <div class="form-group">
        <mat-form-field appearance="fill">
          <mat-label>Description du forfait: </mat-label>
          <textarea matInput placeholder="Inscrire une courte description" required [(ngModel)]="newPackage.description"
         #packageDesc="ngModel" id="packageDescription" name="packageDescription"></textarea>
        </mat-form-field>
        <span class="formError" *ngIf="!packageDesc.valid && packageDesc.touched">Veillez inscrire une description sur le forfait.</span>
      </div>
 


  
      <div class="d-flex justify-content-center px-3">
        <div class="form-group">
          <mat-form-field class="example-form-field">
            <mat-label>Nom de l'établissement:</mat-label>
            <input matInput type="text" required [(ngModel)]="newPackage.lodging.name" #lodgingName="ngModel"
              id="lodgingName" name="lodgingName" minlength="5" maxlength="100">
          </mat-form-field>
          <span class="formError" *ngIf="!lodgingName.valid && lodgingName.touched">Veillez entre un nom d'établissement
            valide entre 5 et 100 caractères.</span>
        </div>
      </div>

      <div class="d-flex justify-content-center px-3">
        <div class="form-group px-2">
          <mat-form-field appearance="fill">
            <mat-label>Description de l'établissement: </mat-label>
            <textarea matInput placeholder="Inscrire une courte description" required
              [(ngModel)]="newPackage.lodging.description" #lodgingDesc="ngModel"  id="lodgingDescription" name="lodgingDescription"></textarea>
          </mat-form-field>
          <span class="formError" *ngIf="!lodgingDesc.valid && lodgingDesc.touched">Veillez la description de l'établissement.</span>
        </div>
      </div>

      <div class="d-flex justify-content-end py-1">
        <div class="form-group px-2">
          <mat-form-field class="example-form-field">
            <mat-label>Adresse:</mat-label>
            <input matInput type="text" required [(ngModel)]="newPackage.lodging.address" #address="ngModel" id="address" name="address">
          </mat-form-field>
          <span class="formError" *ngIf="!address.valid && address.touched">Veuillez saisir l'adresse de l'établissement.</span>
        </div>

        <div class="form-group px-2">
          <mat-form-field class="example-form-field">
            <mat-label>Ville:</mat-label>
            <input matInput type="text" required [(ngModel)]="newPackage.lodging.city" #city="ngModel" id="city" name="city">
          </mat-form-field>
          <span class="formError" *ngIf="!city.valid && city.touched">Veillez saisir la ville de l'établissement.</span>
        </div>


        <div class="form-group px-2">
          <mat-form-field class="example-form-field">
            <mat-label>Code postal:</mat-label>
            <input matInput type="text" required [(ngModel)]="newPackage.lodging.postalcode"  #postalcode="ngModel" id="postalCode"
              name="postalCode">
          </mat-form-field>
          <span class="formError" *ngIf="!postalcode.valid && postalcode.touched">Veillez saisir le code postal  de l'établissement.</span>
        </div>
      </div>

      <div class="d-flex justify-content-end py-1">
      <div class="form-group">
        <mat-form-field class="example-form-field"> 
          <mat-label>Téléphone:</mat-label>
          <input matInput type="tel" required [(ngModel)]="newPackage.lodging.phonenumber"  #phonenumber="ngModel" id="phoneNumber"
            name="phoneNumber">
        </mat-form-field>
        <span class="formError" *ngIf="!phonenumber.valid && phonenumber.touched">Veillez saisir le numéro de téléphone  de l'établissement.</span>
      </div>

      <div class="form-group">
        <mat-form-field class="example-form-field">
          <mat-label>Courriel:</mat-label>
          <input matInput type="email" required [(ngModel)]="newPackage.lodging.email" #email="ngModel" id="email"
            name="email">
        </mat-form-field>
        <span class="formError" *ngIf="!email.valid && email.touched">Entrez un courriel valide, par exemple:
          forfaiterie@gmail.com</span>
      </div>
    

      <div class="form-group">
        <mat-form-field class="example-form-field">
          <mat-label>Site web:</mat-label>
          <input matInput type="text"  [(ngModel)]="newPackage.lodging.website" id="website" name="website">
        </mat-form-field>
      </div>
    </div>

    <div class="d-flex justify-content-end py-1">

      <div class="form-group px-2">
        <mat-form-field appearance="fill">
          <mat-label>Date de début:</mat-label>
          <input matInput [matDatepicker]="picker1" required [(ngModel)]="newPackage.startdate" #startdate="ngModel"
            id="startdate" name="startdate">
          <mat-hint>MM/JJ/AAAA</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>
        <span class="formError" *ngIf="!startdate.valid && price.touched">La date de fin est obligatoire.</span>
      </div>


      <div class="form-group">
        <mat-form-field appearance="fill">
          <mat-label>Date de fin: </mat-label>
          <input matInput [matDatepicker]="picker2" required [(ngModel)]="newPackage.enddate" #enddate="ngModel"
            id="enddate" name="enddate">
          <mat-hint>MM/JJ/AAAA</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>
        <span class="formError" *ngIf="!enddate.valid && price.touched">La date de fin est obligatoire.</span>
      </div>

    </div>


    <div class="form-group">
      <mat-checkbox class="example-margin" [(ngModel)]="newPackage.prenium" id="prenium" name="prenium">Forfait Prenium
      </mat-checkbox>
    </div>

    <div class="form-group">
      <mat-form-field class="example-form-field">
        <mat-label>Prix régulier:</mat-label>
        <input matInput type="number" required [(ngModel)]="newPackage.price" #price="ngModel" id="price" name="price"
          min="0">
      </mat-form-field>
      <span class="formError" *ngIf="price.value <= 0 && price.touched">Le prix régulier est ne peut être égal ou plus petit que
        zéro dollar.</span>
    </div>

    <div class="form-group">
      <mat-form-field class="example-form-field">
        <mat-label>Prix promotionnel:</mat-label>
        <input matInput type="number" [(ngModel)]="newPackage.newprice" #newprice="ngModel" id="newprice"
          name="newprice" min="0">
      </mat-form-field>
      <span class="formError" *ngIf="newprice.value < 0 && price.touched ">Le prix promotionnelne ne être plus petit que
        zéro dollar.</span>
    </div>

    <div>
      <button *ngIf="newPackage.id; else addButton" mat-button mat-aria-label="Modifier"
        [disabled]="!packageFormAdd.form.valid" (click)="updatePackage(packageFormAdd)">Modifier</button>

      <ng-template #addButton>
        <button mat-button mat-aria-label="Ajouter" [disabled]="!packageFormAdd.form.valid"
          (click)="addPackage(packageFormAdd)">
          Ajouter
        </button>
      </ng-template>

      <button mat-button mat-aria-label="Annuler" (click)="cancel()">
        Annuler
      </button>


    </div>

  </form>
</div>

</div>
